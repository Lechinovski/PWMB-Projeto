<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabuada</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <header>
        <h1>Tabuada</h1>
    </header>
    <section>
        <div>
            <p>
                Numero: <input type="number" name="num" id="txtnum">
                <input type="button" value="Gerar Tabuada" onclick="gerarTabuada()">

            </p>
        </div>
        <div >
            <select name="tabuada" id="seltab" size="10">
                <option>Digite um número</option>  
            </select>
        </div>
        <div id="res">
            <br>
        </div>
    </section>
    <footer>
        <p>&copy;profCHVP</p>
    </footer>
   
    <script >
       var existe = false
function gerarTabuada(){
    var  num     = document.getElementById("txtnum")
    let areaTab = document.getElementById("seltab")

    if (num.value.length ==0){
        window.alert("por Favor, informe um numero")
    } else {
        /*
        <option value="v1" selected>Valor 1</option>
        <option value="v2"         >Valor 2</option>
        */
        let numeroDigitado = Number(num.value)
        let c = 1
        areaTab.innerHTML='' //Limpa a tabuada
        while (c <=10){
            let item = document.createElement("option")
            item.text = `${numeroDigitado} x ${c} = ${numeroDigitado * c}`
            item.value=`tab${c}`
            areaTab.appendChild(item)
            //c +=1
            c++
        }
        let res= document.querySelector("div#res")
        res.innerHTML=""
        let br = document.createElement("br")
        res.appendChild(br)
        let botao = document.createElement("button")
        botao.setAttribute("type","button")
        botao.setAttribute("onclick", "seleciona()")
        botao.appendChild(document.createTextNode("Seleciona"))
        
        res.appendChild(botao)
        existe = false
    }
}
function seleciona(){
    let selecao = document.getElementById("seltab")
    //console.log("o índice e:"+selecao.selectedIndex)
    if (selecao.selectedIndex<0) {
        window.alert("Selecione uma opçao")
    }// else {
     //   window.alert(`"o índice e:"${selecao.selectedIndex}`)
     //   window.alert(`"o Texto e:"${selecao.options[selecao.selectedIndex].text}`)
     //   window.alert(`"A CHAVE e:"${selecao.options[selecao.selectedIndex].value}`)
    //}
    let res= document.querySelector("div#res")
    
    let br = document.createElement("br")
    res.appendChild(br)
    
    if (Boolean(existe)){
        document.getElementById("xuxu").innerHTML=`Você seleconou ${selecao.options[selecao.selectedIndex].text}`          
    } else {
        let paragrafo = document.createElement("span")
        paragrafo.id="xuxu"
        paragrafo.innerHTML = `Você seleconou ${selecao.options[selecao.selectedIndex].text}`      
        res.appendChild(paragrafo)
        existe = true
    }
}
    </script>
</body>
</html>